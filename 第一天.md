
渗透测试-pikachu反弹shell-拿下服务器

我们本次实验使用nc进行shell反弹。

NetCat,简称'nc'，有着 网络安全界"瑞士军刀" 的美称，可以通过TCP/UDP协议读写，是一个好用稳定的连接系统后门的工具，同时也是一个网络调试和开发工具。

nc工具可以自行在网上下载

**1.首先测试在线靶场，利用FOFA搜集在线靶场**

![47cc17fd6f044eefa8a708ef7d29d503.png](https://s2.loli.net/2024/04/14/BsWRITjGSN3xFwc.png)

找到后我们进行测试 

RCE漏洞就是命令执行漏洞（我们这里先不管RCE漏洞是如何造成的）

![4b618854767b4404a5c2a095daa28795.png](https://s2.loli.net/2024/04/14/LZCQmo6kBRD9Wfx.png)

经过测试可以执行命令，我们判断对方服务器是Linux或者Windows（ipconfig能执行成功就是Windows，ifconfig是Linux）

![70a2fe8a1f3a45ffb0ccc1206748c818.png](https://s2.loli.net/2024/04/14/1PdBTLU4v6cFkem.png)

 **2.我们将nc.exe上传到自己的服务器网站的根目录**


目的：当有人访问我们服务器网站的根目录下nc.exe文件时，nc.exe文件将被自动下载。
![b460c39dc17949c2bc90025b6ad28067.png](https://s2.loli.net/2024/04/14/S3Rc6O7wiP1nF5G.png)

 **3.我们在pikachu上边执行下载命令。**

我们可以上网搜索命令，也有许多自动生成命令的平台。我这里 用的是棱角工具。

找到windows的下载命令（因为pikachu的服务器是Windows系统）

![c8447694a33f428baa826fa6c8a92a58.png](https://s2.loli.net/2024/04/14/2ZEfj8WDmyNVln5.png)

 **4.生成命令后复制到刚才pikachu上边的命令执行框中执行进行nc的下载。**

执行命令后用dir查看目录中是否下载成功。可以看到nc.exe被成功下载。

![5046fb05d35d4ca1b7f817a622a94ddd.png](https://s2.loli.net/2024/04/14/Od6hSr42as1fVCx.png)
**5.成功下载文件后，我们进行shell的反弹。**


![04ceabdc63534218850be40108b1d376.png](https://s2.loli.net/2024/04/14/PQ6ZmIeNU5ltfcS.png)
 在pikachu上边进行cmd的反弹就可以获取pikachu服务器的权限了


